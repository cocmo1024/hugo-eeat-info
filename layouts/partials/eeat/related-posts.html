{{- $related := .Site.RegularPages.Related . | first 5 }}
{{- if gt (len $related) 0 }}
  <div class="related-posts" style="margin-top: 3rem;">
    <h2 style="margin-bottom: 1.5rem;">Related Posts</h2>

    {{ range $related }}
      <div style="
        margin-bottom: 1.25rem;
        padding: 1rem 1.2rem;
        border-radius: 0.75rem;
        background-color: rgba(255,255,255,0.03);
        box-shadow: 0 1px 2px rgba(0,0,0,0.15);
        transition: transform 0.2s ease;
      "
      onmouseover="this.style.transform='translateY(-2px)'"
      onmouseout="this.style.transform='none'">
        <a href="{{ .RelPermalink }}" style="text-decoration: none; color: inherit;">
          <h3 style="margin: 0 0 0.5rem; font-size: 1.1rem;">{{ .Title }}</h3>
        </a>
        <div style="font-size: 0.85rem; color: #aaa;">
          {{ .Date.Format "Jan 2, 2006" }} · {{ .ReadingTime }} min · {{ .Params.author }}
        </div>
      </div>
    {{ end }}
  </div>
{{- end }}
